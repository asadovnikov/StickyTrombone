!function(){"use strict";angular.module("stickyTrombone",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","ngRoute","ngMaterial","toastr","cfp.hotkeys"])}(),function(){"use strict";function t(){function t(t){var e=this;e.relativeDate=t(e.creationDate).fromNow()}t.$inject=["moment"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"=",parentModel:"="},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("stickyTrombone").directive("acmeNavbar",t)}(),function(){"use strict";function t(t){function e(){return n}var n;this.getTec=e;var a={params:{rows:100,fname:"{firstName}",lname:"{lastName}",description:"{lorem|30}",likes:"{number|100}",callback:"JSON_CALLBACK",id:"{index}"}};t.jsonp("http://www.filltext.com",a,{}).success(function(t){n=t})}t.$inject=["$http"],angular.module("stickyTrombone").service("webDevTec",t)}(),function(){"use strict";function t(t){function e(e,n,a,o){var i,r=t(n[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});n.addClass("acme-malarkey"),angular.forEach(e.extraValues,function(t){r.type(t).pause()["delete"]()}),i=e.$watch("vm.contributors",function(){angular.forEach(o.contributors,function(t){r.type(t.login).pause()["delete"]()})}),e.$on("$destroy",function(){i()})}function n(t,e){function n(){return a().then(function(){t.info("Activated Contributors View")})}function a(){return e.getContributors(10).then(function(t){return o.contributors=t,o.contributors})}var o=this;o.contributors=[],n()}n.$inject=["$log","githubContributor"];var a={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:e,controller:n,controllerAs:"vm"};return a}t.$inject=["malarkey"],angular.module("stickyTrombone").directive("acmeMalarkey",t)}(),function(){"use strict";function t(t,e){function n(n){function o(t){return t.data}function i(e){t.error("XHR Failed for getContributors.\n"+angular.toJson(e.data,!0))}return n||(n=30),e.get(a+"/contributors?per_page="+n).then(o)["catch"](i)}var a="https://api.github.com/repos/Swiip/generator-gulp-angular",o={apiHost:a,getContributors:n};return o}t.$inject=["$log","$http"],angular.module("stickyTrombone").factory("githubContributor",t)}(),function(){"use strict";function t(t,e,n,a,o,i){function r(t,n,a){t.post=a,t.myComment="";var o={params:{rows:3,fname:"{firstName}",lname:"{lastName}",description:"{lorem|15}",callback:"JSON_CALLBACK",id:"{index}"}};e.jsonp("http://www.filltext.com",o,{}).success(function(e){angular.forEach(e,function(t){t.avatar="https://unsplash.it/100/100?random"}),t.comments=e,t.digest()})}function l(t,e){t.postText="",t.imageUrl="",t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.createNewPost=function(){console.log(t.postText),e.hide({text:t.postText,image:t.imageUrl})},t.handlePaste=function(e){for(var n=0;n<e.originalEvent.clipboardData.items.length;n++){var a=e.originalEvent.clipboardData.items[n];if(-1!=a.type.indexOf("image")){var o=window.URL||window.webkitURL,i=o.createObjectURL(a.getAsFile());t.imageUrl=i}else console.log("Discarding non-image paste data")}}}function s(t){"true"!==t.target.getAttribute("startDrag")&&(t.target.setAttribute("initial-data-x",t.dx),t.target.setAttribute("initial-data-y",t.dy));var e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,a=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.setAttribute("startDrag","true"),e.style.webkitTransform=e.style.transform="translate("+n+"px, "+a+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",a)}function d(){t(function(){u.classAnimation="rubberBand"},4e3)}function c(){n.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),u.classAnimation=""}function m(t){angular.forEach(u.awesomeThings,function(e){e.id===t&&e.liked!==!0&&(e.likes+=1,e.liked=!0)})}r.$inject=["$scope","$mdDialog","post"],l.$inject=["$scope","$mdDialog"];var u=this;u.awesomeThings=[],u.toDoItems=[],u.doLaterItems=[],u.doNotDoItems=[],u.classAnimation="",u.creationDate=1463047443957,u.showToastr=c,u.addLike=m,u.orderField="-likes",u.orderTypeText="по просмотрам";var g,p;u.viewPost=function(t,e){e.stopPropagation();var n=a("getById")(u.awesomeThings,t);i.show({controller:r,template:'<md-dialog aria-label="viewPost" ng-cloak><form class="a-md-dialog post-view-dialog"><div flex layout="row"><div flex layout="column" layout-align="center stretch" style="align-self: stretch"><div flex class="tile-text"><p>{{post.description }}</p></div><div class="action-panel"><div flex layout="row"><md-button aria-label="like" class="md-icon-button"><i class="material-icons">favorite_border</i></md-button><div class="likes-count">{{post.likes}}</div><div flex class="author">{{post.fname}} {{post.lname}}</div></div></div></div><div flex="40" ng-if="post.hasImage" class="tile-image" ng-style="{\'background\' : \'url({{post.img}}) no-repeat\'}"></div></div><div flex layout="column" class="post-comments-area"><div class="comment-to-post" ng-repeat="comment in comments" layout="row"><div><div class="comment-avatar" ng-style="{\'background\' : \'url({{comment.avatar}}) no-repeat\'}"></div></div><div layout="column" class="comment-info"><div class="comment-user-name">{{comment.fname}} {{comment.lname}}</div><div class="comment-text">{{comment.description}}</div> </div></div><div class="my-comment-container" layout="row"><div class="avatar-container"><div class="my-avatar-small"></div></div><md-input-container flex="100"><label>Оставьте комментарий...</label><input ng-model="myComment"></md-input-container></div></div></form></md-dialog>',locals:{post:n},parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,fullscreen:!1})},u.openSelectProjectMenu=function(t,e){g=e,t(e)},u.createPost=function(t){i.show({controller:l,template:'<md-dialog aria-label="create a post" class="create-post-dailog" ng-cloak><form><div layout-align="column" class="a-md-dialog">  <div flex="100" class="input-container">   <md-input-container flex class="create-post-input md-block">     <label>Есть идея? Пиши прямо тут!</label>     <textarea rows="2" ng-paste="handlePaste($event)" ng-model="postText" hotkey="{\'shift+enter\': createNewPost}"></textarea>    </md-input-container><img src="{{imageUrl}}" style="height: 66px; width: 66px;" ng-show="imageUrl.length > 0" /> </div> <div flex="100" class="create-post-hint" ng-hide="imageUrl.length > 0">Чтобы присоединить картинку, перетяни ее в окно браузера или просто вставь ссылку.</div></div><md-button flex="100" class="create-post-btn" ng-show="postText.length > 0" ng-click="createNewPost()">Запостить!</md-button><div class="create-post-action-hint" ng-show="postText.length > 0" >Подсказка: ⇧ + Enter</div></form></md-dialog>',parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!1,fullscreen:!1}).then(function(t){var e=t.image.length>0;u.awesomeThings.push({fname:"Me",lname:"Gusta",description:t.text,likes:0,img:t.image,hasImage:e,col:4,row:8,id:101}),o.$apply(),o.$digest()})},u.openOrderType=function(t,e){p=e,t(e)},u.changeOrderType=function(t,e){u.orderField=t,u.orderTypeText=e.currentTarget.innerText,o.$apply(),o.$digest()},interact(".draggable").draggable({inertia:!0,snap:{endOnly:!0},restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onmove:s,onend:function(t){t.target.setAttribute("startDrag","false");var e=t.target,n=parseFloat(e.getAttribute("initial-data-x"))||0,a=parseFloat(e.getAttribute("initial-data-y"))||0;e.style.webkitTransform=e.style.transform="translate("+n+"px, "+a+"px)"}}),interact(".dropzone").dropzone({overlap:.1,ondropactivate:function(t){t.target.classList.add("drop-active")},ondragenter:function(t){var e=t.relatedTarget,n=t.target;n.classList.add("drop-target"),e.classList.add("can-drop")},ondragleave:function(t){t.target.classList.remove("drop-target"),t.relatedTarget.classList.remove("can-drop")},ondrop:function(t){var e=t.relatedTarget.getAttribute("item-id"),n=a("getById")(u.awesomeThings,e),i=u.awesomeThings.indexOf(n),r=t.target.getAttribute("drop-area");"do-not-do"===r?u.doNotDoItems.push(n):"do-later"===r?u.doLaterItems.push(n):"do"===r&&u.toDoItems.push(n),u.awesomeThings.splice(i,1),o.$apply(),o.$digest()},ondropdeactivate:function(t){t.target.classList.remove("drop-active"),t.target.classList.remove("drop-target")}}),d();var v={params:{rows:100,fname:"{firstName}",lname:"{lastName}",description:"{lorem|10}",likes:"{number|50}",callback:"JSON_CALLBACK",id:"{index}"}};e.jsonp("http://www.filltext.com",v,{}).success(function(t){angular.forEach(t,function(t){var e=Math.floor(t.likes/10),n=Math.floor(e/2);0===n&&(n+=1),e%10>3&&(t.img="https://unsplash.it/300/500?random",n+=2,t.hasImage=!0),t.row=e+4,t.col=n+1}),u.awesomeThings=t})}t.$inject=["$timeout","$http","toastr","$filter","$scope","$mdDialog"],angular.module("stickyTrombone").controller("MainController",t).filter("getById",function(){return function(t,e){for(var n=0,a=t.length;a>n;n++)if(+t[n].id==+e)return t[n];return null}})}(),function(){"use strict";function t(t){t.debug("runBlock end")}t.$inject=["$log"],angular.module("stickyTrombone").run(t)}(),function(){"use strict";function t(t){t.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).otherwise({redirectTo:"/"})}t.$inject=["$routeProvider"],angular.module("stickyTrombone").config(t)}(),function(){"use strict";angular.module("stickyTrombone").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0}t.$inject=["$logProvider","toastrConfig"],angular.module("stickyTrombone").config(t)}(),angular.module("stickyTrombone").run(["$templateCache",function(t){t.put("app/main/create-post.html","<md-dialog aria-label=viewPost ng-cloak><form><div flex layout=row class=a-md-dialog><div flex layout=column layout-align=\"center stretch\" style=\"align-self: stretch\"><div flex class=tile-text><p>{{post.description }}</p></div><div class=action-panel><div flex layout=row><md-button aria-label=like class=md-icon-button><i class=material-icons ng-class=\"post.liked ? 'item-liked' : 'item-waiting-for-like'\">favorite_border</i></md-button><div class=likes-count>{{post.likes}}</div><div flex class=author>{{post.fname}} {{post.lname}}</div></div></div></div><div flex=40 ng-if=post.hasImage class=tile-image ng-style=\"{'background' : 'url({{post.img}}) no-repeat'}\"></div></div></form></md-dialog>"),t.put("app/main/main.html",'<div><md-button class="md-fab md-mini" aria-label="Eat cake" ng-click=main.createPost($event)><i class=material-icons>add</i></md-button><div class=project-settings layout=row layout-align="end center"><div>Проект:</div><md-menu md-position-mode="target-right target"><md-button md-no-ink class=md-primary ng-click="main.openSelectProjectMenu($mdOpenMenu, $event)">IMWU</md-button><md-menu-content width=4><md-menu-item><md-button ng-click=ctrl.redial($event)>Project 1</md-button></md-menu-item><md-menu-item><md-button ng-click=ctrl.checkVoicemail()>Project 2</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=ctrl.toggleNotifications()>Добавить проект</md-button></md-menu-item></md-menu-content></md-menu><div>Сортировка:</div><md-menu md-position-mode="target-right target"><md-button md-no-ink class=md-primary ng-click="main.openOrderType($mdOpenMenu, $event)">{{main.orderTypeText}}</md-button><md-menu-content width=4><md-menu-item><md-button ng-click="main.changeOrderType(\'-id\', $event)">дате создания</md-button></md-menu-item><md-menu-item><md-button ng-click="main.changeOrderType(\'-likes\', $event)">по просмотрам</md-button></md-menu-item></md-menu-content></md-menu></div><md-content><div flex layout-align="space-between stretch" class=main-content><md-grid-list md-cols=1 md-cols-sm=2 md-cols-md=3 md-cols-gt-md=12 md-row-height=1em md-gutter=30px md-gutter-gt-sm=30px><md-grid-tile ng-repeat="awesomeThing in main.awesomeThings | orderBy: main.orderField" class="droppable draggable drag-drop md-whiteframe-1dp" md-rowspan={{awesomeThing.row}} item-id={{awesomeThing.id}} md-colspan={{awesomeThing.col}} layout=row layout-align="center stretch"><div flex layout=column layout-align="center stretch" style="align-self: stretch"><div flex class=tile-text ng-click="main.viewPost(awesomeThing.id, $event)"><p>{{ awesomeThing.description }}</p></div><div class=action-panel><div flex layout=row><md-button aria-label=like class=md-icon-button ng-click=main.addLike(awesomeThing.id)><i class=material-icons ng-class="awesomeThing.liked ? \'item-liked\' : \'item-waiting-for-like\'">favorite_border</i></md-button><div class=likes-count>{{awesomeThing.likes}}</div><div flex class=author>{{awesomeThing.fname}} {{awesomeThing.lname}}</div></div></div></div><div flex=40 ng-if=awesomeThing.hasImage class=tile-image ng-style="{\'background\' : \'url({{awesomeThing.img}}) no-repeat\'}"></div></md-grid-tile></md-grid-list></div><footer><acme-navbar creation-date=main.creationDate parent-model=main></acme-navbar></footer></md-content></div>'),t.put("app/components/navbar/navbar.html",'<md-toolbar layout=row layout-align="center center" class="decision-panel dropzone"><div class="decision-panel_do-not-do dropzone" drop-area=do-not-do flex=33>Не делай <span ng-if="vm.parentModel.doNotDoItems.length>0">— {{vm.parentModel.doNotDoItems.length}}</span></div><div flex=33 class="decision-panel_do-it-later dropzone" drop-area=do-later>Давай потом <span ng-if="vm.parentModel.doLaterItems.length>0">— {{vm.parentModel.doLaterItems.length}}</span></div><div flex=33 class="decision-panel_do-it dropzone" drop-area=do>Делай <span ng-if="vm.parentModel.toDoItems.length>0">— {{vm.parentModel.toDoItems.length}}</span></div></md-toolbar>')}]);
//# sourceMappingURL=../maps/scripts/app-3dc3cbd089.js.map
