!function(){"use strict";angular.module("stickyTrombone",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","ngRoute","ngMaterial","toastr","cfp.hotkeys"])}(),function(){"use strict";function t(){function t(t){var e=this;e.relativeDate=t(e.creationDate).fromNow(),e.showDoLaterItems=function(){e.parentModel.refresh(e.parentModel.doLaterItems,"doLater")},e.showDoItems=function(){e.parentModel.refresh(e.parentModel.toDoItems,"do")},e.showDoNotDoItems=function(){e.parentModel.refresh(e.parentModel.doNotDoItems,"doNotDo")}}t.$inject=["moment"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"=",parentModel:"="},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("stickyTrombone").directive("acmeNavbar",t)}(),function(){"use strict";function t(t){function e(){return a}var a;this.getTec=e;var o={params:{rows:100,fname:"{firstName}",lname:"{lastName}",description:"{lorem|30}",likes:"{number|100}",callback:"JSON_CALLBACK",id:"{index}"}};t.jsonp("http://www.filltext.com",o,{}).success(function(t){a=t})}t.$inject=["$http"],angular.module("stickyTrombone").service("webDevTec",t)}(),function(){"use strict";function t(t){function e(e,a,o,n){var i,r=t(a[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});a.addClass("acme-malarkey"),angular.forEach(e.extraValues,function(t){r.type(t).pause()["delete"]()}),i=e.$watch("vm.contributors",function(){angular.forEach(n.contributors,function(t){r.type(t.login).pause()["delete"]()})}),e.$on("$destroy",function(){i()})}function a(t,e){function a(){return o().then(function(){t.info("Activated Contributors View")})}function o(){return e.getContributors(10).then(function(t){return n.contributors=t,n.contributors})}var n=this;n.contributors=[],a()}a.$inject=["$log","githubContributor"];var o={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:e,controller:a,controllerAs:"vm"};return o}t.$inject=["malarkey"],angular.module("stickyTrombone").directive("acmeMalarkey",t)}(),function(){"use strict";function t(t,e){function a(a){function n(t){return t.data}function i(e){t.error("XHR Failed for getContributors.\n"+angular.toJson(e.data,!0))}return a||(a=30),e.get(o+"/contributors?per_page="+a).then(n)["catch"](i)}var o="https://api.github.com/repos/Swiip/generator-gulp-angular",n={apiHost:o,getContributors:a};return n}t.$inject=["$log","$http"],angular.module("stickyTrombone").factory("githubContributor",t)}(),function(){"use strict";function t(t,e,a,o,n,i){function r(t,a,o){t.post=o,t.myComment="";var n={params:{rows:3,fname:"{firstName}",lname:"{lastName}",description:"{lorem|15}",callback:"JSON_CALLBACK",id:"{index}"}};e.jsonp("http://www.filltext.com",n,{}).success(function(e){angular.forEach(e,function(t){t.avatar="https://unsplash.it/100/100?random"}),t.comments=e})}function s(t,e){t.postText="",t.imageUrl="",t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.createNewPost=function(){console.log(t.postText),e.hide({text:t.postText,image:t.imageUrl})},t.handlePaste=function(e){for(var a=0;a<e.originalEvent.clipboardData.items.length;a++){var o=e.originalEvent.clipboardData.items[a];if(-1!=o.type.indexOf("image")){var n=window.URL||window.webkitURL,i=n.createObjectURL(o.getAsFile());t.imageUrl=i}else console.log("Discarding non-image paste data")}}}function l(t){console.log("onmove"),t.target.classList.add("start-dragging"),u.startPostOpenning=!0,"true"!==t.target.getAttribute("startDrag")&&(t.target.setAttribute("initial-data-x",t.dx),t.target.setAttribute("initial-data-y",t.dy));var e=t.target,a=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,o=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.setAttribute("startDrag","true"),e.style.webkitTransform=e.style.transform="translate("+a+"px, "+o+"px)",e.setAttribute("data-x",a),e.setAttribute("data-y",o)}function d(){t(function(){u.classAnimation="rubberBand"},4e3)}function c(){a.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),u.classAnimation=""}function m(t){angular.forEach(u.awesomeThings,function(e){e.id===t&&e.liked!==!0&&(e.likes+=1,e.liked=!0)})}r.$inject=["$scope","$mdDialog","post"],s.$inject=["$scope","$mdDialog"];var u=this;u.awesomeThings=[],u.viewState="all",u.toDoItems=[],u.doLaterItems=[],u.doNotDoItems=[],u.classAnimation="",u.creationDate=1463047443957,u.showToastr=c,u.addLike=m,u.orderField="-likes",u.orderTypeText="по просмотрам";var g,p;u.refresh=function(t,e){u.awesomeThings=t,u.viewState=e},u.loadAllPosts=function(){u.viewState="all",u.awesomeThings=u.currentData},u.viewPost=function(t,e){if(console.log("view-post"),u.dirtyItem)return void(u.dirtyItem=!1);e.stopPropagation();var a=o("getById")(u.awesomeThings,t);i.show({controller:r,template:'<md-dialog aria-label="viewPost" ng-cloak><form class="a-md-dialog post-view-dialog"><div flex layout="row"><div flex layout="column" layout-align="center stretch" style="align-self: stretch"><div flex class="tile-text"><p>{{post.description }}</p></div><div class="action-panel"><div flex layout="row"><md-button aria-label="like" class="md-icon-button"><i class="material-icons">favorite_border</i></md-button><div class="likes-count">{{post.likes}}</div><div flex class="author">{{post.fname}} {{post.lname}}</div></div></div></div><div flex="40" ng-if="post.hasImage" class="tile-image" ng-style="{\'background\' : \'url({{post.img}}) no-repeat\'}"></div></div><div flex layout="column" class="post-comments-area"><div class="comment-to-post" ng-repeat="comment in comments" layout="row"><div><div class="comment-avatar" ng-style="{\'background\' : \'url({{comment.avatar}}) no-repeat\'}"></div></div><div layout="column" class="comment-info"><div class="comment-user-name">{{comment.fname}} {{comment.lname}}</div><div class="comment-text">{{comment.description}}</div> </div></div><div class="my-comment-container" layout="row"><div class="avatar-container"><div class="my-avatar-small"></div></div><md-input-container flex="100"><label>Оставьте комментарий...</label><input ng-model="myComment"></md-input-container></div></div></form></md-dialog>',locals:{post:a},parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,fullscreen:!1})},u.openSelectProjectMenu=function(t,e){g=e,t(e)},u.createPost=function(t){i.show({controller:s,template:'<md-dialog aria-label="create a post" class="create-post-dailog" ng-cloak><form><div layout-align="column" class="a-md-dialog">  <div flex="100" class="input-container">   <md-input-container flex class="create-post-input md-block">     <label>Есть идея? Пиши прямо тут!</label>     <textarea rows="2" ng-paste="handlePaste($event)" ng-model="postText" hotkey="{\'shift+enter\': createNewPost}"></textarea>    </md-input-container><img src="{{imageUrl}}" style="height: 66px; width: 66px;" ng-show="imageUrl.length > 0" /> </div> <div flex="100" class="create-post-hint" ng-hide="imageUrl.length > 0">Чтобы присоединить картинку, перетяни ее в окно браузера или просто вставь ссылку.</div></div><md-button flex="100" class="create-post-btn" ng-show="postText.length > 0" ng-click="createNewPost()">Запостить!</md-button><div class="create-post-action-hint" ng-show="postText.length > 0" >Подсказка: ⇧ + Enter</div></form></md-dialog>',parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!1,fullscreen:!1}).then(function(t){var e=t.image.length>0,a=2;e&&(a+=1),u.awesomeThings.push({fname:"Me",lname:"Gusta",description:t.text,likes:0,img:t.image,hasImage:e,col:a,row:4,itemStyle:"medium-item",id:101})})},u.openOrderType=function(t,e){p=e,t(e)},u.changeOrderType=function(t,e){u.orderField=t,u.orderTypeText=e.currentTarget.innerText},interact(".draggable").draggable({inertia:!0,snap:{endOnly:!0},restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onstart:function(t){console.log("doing start"),angular.element(".st-backdrop").removeClass("disabled"),angular.element(".decision-panel").addClass("active"),u.dirtyItem=!0,u.doingDragging=!0},onmove:l,onend:function(t){console.log("onend"),t.target.setAttribute("startDrag","false"),t.target.classList.remove("start-dragging");var e=t.target,a=parseFloat(e.getAttribute("initial-data-x"))||0,o=parseFloat(e.getAttribute("initial-data-y"))||0;t.target.setAttribute("data-x",a),t.target.setAttribute("data-y",o),e.style.webkitTransform=e.style.transform="translate("+a+"px, "+o+"px)",console.log("start dragging set to false"),u.doingDragging=!1,console.log("remove backdrop"),angular.element(".st-backdrop").addClass("disabled"),angular.element(".decision-panel").removeClass("active")}}),interact(".dropzone").dropzone({overlap:.1,ondropactivate:function(t){t.target.classList.add("drop-active")},ondragenter:function(t){var e=t.relatedTarget,a=t.target,o=e.getAttribute("stored-state");e.classList.remove(o);var n=a.getAttribute("drop-area");e.classList.add(n),e.setAttribute("stored-state",n),a.classList.add("drop-target"),e.classList.add("can-drop")},ondragleave:function(t){var e=t.relatedTarget.getAttribute("stored-state");t.relatedTarget.classList.remove(e),t.target.classList.remove("drop-target"),t.relatedTarget.classList.remove("can-drop")},ondrop:function(t){console.log("ondrop");var e=t.relatedTarget.getAttribute("item-id"),a=o("getById")(u.awesomeThings,e),n=u.awesomeThings.indexOf(a),i=t.target.getAttribute("drop-area");"do-not-do"===i?u.doNotDoItems.push(a):"do-later"===i?u.doLaterItems.push(a):"do"===i&&u.toDoItems.push(a),u.awesomeThings.splice(n,1)},ondropdeactivate:function(t){t.target.classList.remove("drop-active"),t.target.classList.remove("drop-target")}}),d();var v={params:{rows:100,fname:"{firstName}",lname:"{lastName}",description:"{lorem|10}",likes:"{number|70}",callback:"JSON_CALLBACK",created_date:"x={date|1-1-2016,22-05-2016}",id:"{index}"}};e.jsonp("http://www.filltext.com",v,{}).success(function(t){angular.forEach(t,function(t){var e=Math.floor(t.likes/10),a=1,o=1;e>4?(t.itemStyle="big-item",a=5,o=2):e>2&&e>=4?(t.itemStyle="medium-item",a=4,o=2):(t.itemStyle="small-item",a=4,o=1),t.likes%10>3&&(t.img="https://unsplash.it/300/500?random",o+=e>4?2:1,t.hasImage=!0,t.likes%5>3&&(t.useVerticalImage=!0)),t.row=a,t.col=o}),u.awesomeThings=t,u.currentData=t})}t.$inject=["$timeout","$http","toastr","$filter","$scope","$mdDialog"],angular.module("stickyTrombone").controller("MainController",t).filter("getById",function(){return function(t,e){for(var a=0,o=t.length;o>a;a++)if(+t[a].id==+e)return t[a];return null}})}(),function(){"use strict";function t(t){t.debug("runBlock end")}t.$inject=["$log"],angular.module("stickyTrombone").run(t)}(),function(){"use strict";function t(t){t.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).otherwise({redirectTo:"/"})}t.$inject=["$routeProvider"],angular.module("stickyTrombone").config(t)}(),function(){"use strict";angular.module("stickyTrombone").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0}t.$inject=["$logProvider","toastrConfig"],angular.module("stickyTrombone").config(t)}(),angular.module("stickyTrombone").run(["$templateCache",function(t){t.put("app/main/create-post.html","<md-dialog aria-label=viewPost ng-cloak><form><div flex layout=row class=a-md-dialog><div flex layout=column layout-align=\"center stretch\" style=\"align-self: stretch\"><div flex class=tile-text><p>{{post.description }}</p></div><div class=action-panel><div flex layout=row><md-button aria-label=like class=md-icon-button><i class=material-icons ng-class=\"post.liked ? 'item-liked' : 'item-waiting-for-like'\">favorite_border</i></md-button><div class=likes-count>{{post.likes}}</div><div flex class=author>{{post.fname}} {{post.lname}}</div></div></div></div><div flex=40 ng-if=post.hasImage class=tile-image ng-style=\"{'background' : 'url({{post.img}}) no-repeat'}\"></div></div></form></md-dialog>"),t.put("app/main/main.html",'<div><md-content><md-button class="md-fab md-mini" aria-label="Eat cake" ng-click=main.createPost($event)><i class=material-icons>add</i></md-button><div flex class="current-state-indicator {{main.viewState}}" ng-if="main.viewState !== \'all\'">&nbsp;</div><div class=project-settings layout=row layout-align="end center"><div ng-if="main.viewState !== \'all\'" flex class=back-to-all-items layout=row><div class=back-icon>←</div><md-button md-no-ink class=md-primary ng-click=main.loadAllPosts()>Неотсортированные идеи</md-button></div><div>Проект:</div><md-menu md-position-mode="target-right target"><md-button md-no-ink class=md-primary ng-click="main.openSelectProjectMenu($mdOpenMenu, $event)">IMWU</md-button><md-menu-content width=4><md-menu-item><md-button ng-click=ctrl.redial($event)>Project 1</md-button></md-menu-item><md-menu-item><md-button ng-click=ctrl.checkVoicemail()>Project 2</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=ctrl.toggleNotifications()>Добавить проект</md-button></md-menu-item></md-menu-content></md-menu><div>Сортировка:</div><md-menu md-position-mode="target-right target"><md-button md-no-ink class=md-primary ng-click="main.openOrderType($mdOpenMenu, $event)">{{main.orderTypeText}}</md-button><md-menu-content width=4><md-menu-item><md-button ng-click="main.changeOrderType(\'-id\', $event)">дате создания</md-button></md-menu-item><md-menu-item><md-button ng-click="main.changeOrderType(\'-likes\', $event)">по просмотрам</md-button></md-menu-item></md-menu-content></md-menu></div><div flex layout-align="space-between stretch" class=main-content><md-grid-list md-cols=1 md-cols-sm=3 md-cols-md=6 md-cols-gt-md=9 md-row-height=40px md-gutter=25px md-gutter-gt-sm=25px><md-grid-tile ng-repeat="awesomeThing in main.awesomeThings | orderBy: main.orderField" class="droppable draggable drag-drop md-whiteframe-1dp" md-rowspan={{awesomeThing.row}} item-id={{awesomeThing.id}} md-colspan={{awesomeThing.col}} layout=row layout-align="center stretch"><div flex layout=column layout-align="center stretch" style="align-self: stretch"><div flex class="tile-text {{awesomeThing.itemStyle}}" ng-click="main.viewPost(awesomeThing.id, $event)"><p>{{ awesomeThing.description }}</p></div><div class=action-panel><div flex layout=row><md-button aria-label=like class=md-icon-button ng-click=main.addLike(awesomeThing.id)><i class=material-icons ng-class="awesomeThing.liked ? \'item-liked\' : \'item-waiting-for-like\'">favorite_border</i></md-button><div class=likes-count>{{awesomeThing.likes}}</div><div flex class=author>{{awesomeThing.fname}} {{awesomeThing.lname}}</div></div></div></div><div flex=40 ng-if=awesomeThing.hasImage class=tile-image ng-style="{\'background\' : \'url({{awesomeThing.img}}) no-repeat\'}"></div></md-grid-tile></md-grid-list></div><md-backdrop class="st-backdrop md-opaque md-default-theme md-sidenav-backdrop-custom" ng-class="{\'disabled\' : !main.doingDragging}"></md-backdrop><footer><acme-navbar creation-date=main.creationDate parent-model=main></acme-navbar></footer></md-content></div>'),t.put("app/components/navbar/navbar.html",'<md-toolbar layout=row layout-align="center end" class="decision-panel dropzone {{vm.parentModel.viewState}}"><div class="decision-panel_do-not-do dropzone" drop-area=do-not-do flex=33 ng-click=vm.showDoNotDoItems()><div class="do-not-do-items-count numberCircle">{{vm.parentModel.doNotDoItems.length}}</div>Не делай</div><div flex=33 class="decision-panel_do-it-later dropzone" drop-area=do-later ng-click=vm.showDoLaterItems()><div class="do-later-items-count numberCircle">{{vm.parentModel.doLaterItems.length}}</div>Давай потом</div><div flex=33 class="decision-panel_do-it dropzone" drop-area=do ng-click=vm.showDoItems()><div class="do-items-count numberCircle">{{vm.parentModel.toDoItems.length}}</div>Делай</div></md-toolbar>')}]);
//# sourceMappingURL=../maps/scripts/app-4554c856e9.js.map
