!function(){"use strict";angular.module("stickyTrombone",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","ngRoute","ngMaterial","toastr","cfp.hotkeys","angularMoment"])}(),function(){"use strict";function e(){function e(e){var t=this;t.relativeDate=e(t.creationDate).fromNow(),t.showDoLaterItems=function(){t.parentModel.refresh(t.parentModel.doLaterItems,"doLater")},t.showDoItems=function(){t.parentModel.refresh(t.parentModel.toDoItems,"do")},t.showDoNotDoItems=function(){t.parentModel.refresh(t.parentModel.doNotDoItems,"doNotDo")}}e.$inject=["moment"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"=",parentModel:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("stickyTrombone").directive("acmeNavbar",e)}(),function(){"use strict";function e(e){function t(){return a}var a;this.getTec=t;var i={params:{rows:100,fname:"{firstName}",lname:"{lastName}",description:"{lorem|30}",likes:"{number|100}",callback:"JSON_CALLBACK",id:"{index}"}};e.jsonp("http://www.filltext.com",i,{}).success(function(e){a=e})}e.$inject=["$http"],angular.module("stickyTrombone").service("webDevTec",e)}(),function(){"use strict";function e(e){function t(t,a,i,n){var o,r=e(a[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});a.addClass("acme-malarkey"),angular.forEach(t.extraValues,function(e){r.type(e).pause()["delete"]()}),o=t.$watch("vm.contributors",function(){angular.forEach(n.contributors,function(e){r.type(e.login).pause()["delete"]()})}),t.$on("$destroy",function(){o()})}function a(e,t){function a(){return i().then(function(){e.info("Activated Contributors View")})}function i(){return t.getContributors(10).then(function(e){return n.contributors=e,n.contributors})}var n=this;n.contributors=[],a()}a.$inject=["$log","githubContributor"];var i={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:t,controller:a,controllerAs:"vm"};return i}e.$inject=["malarkey"],angular.module("stickyTrombone").directive("acmeMalarkey",e)}(),function(){"use strict";function e(e,t){function a(a){function n(e){return e.data}function o(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return a||(a=30),t.get(i+"/contributors?per_page="+a).then(n)["catch"](o)}var i="https://api.github.com/repos/Swiip/generator-gulp-angular",n={apiHost:i,getContributors:a};return n}e.$inject=["$log","$http"],angular.module("stickyTrombone").factory("githubContributor",e)}(),function(){"use strict";function e(e,t,a,i,n,o){function r(e,a,i){e.post=i,e.createFork=function(){console.log(e.postText),a.hide(i)},e.myComment="";var n={params:{rows:3,fname:"{firstName}",lname:"{lastName}",description:"{lorem|15}",callback:"JSON_CALLBACK",id:"{index}"}};t.jsonp("http://www.filltext.com",n,{}).success(function(t){angular.forEach(t,function(e){e.avatar="https://unsplash.it/100/100?random"}),e.comments=t})}function s(e,t){e.postText="",e.imageUrl="",e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.createNewPost=function(){console.log(e.postText),t.hide({text:e.postText,image:e.imageUrl})},e.handlePaste=function(t){for(var a=0;a<t.originalEvent.clipboardData.items.length;a++){var i=t.originalEvent.clipboardData.items[a];if(-1!=i.type.indexOf("image")){var n=window.URL||window.webkitURL,o=n.createObjectURL(i.getAsFile());e.imageUrl=o}else console.log("Discarding non-image paste data")}}}function l(e){console.log("onmove"),e.target.classList.add("start-dragging"),u.startPostOpenning=!0,"true"!==e.target.getAttribute("startDrag")&&(e.target.setAttribute("initial-data-x",e.dx),e.target.setAttribute("initial-data-y",e.dy));var t=e.target,a=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,i=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.setAttribute("startDrag","true"),t.style.webkitTransform=t.style.transform="translate("+a+"px, "+i+"px)",t.setAttribute("data-x",a),t.setAttribute("data-y",i)}function c(){e(function(){u.classAnimation="rubberBand"},4e3)}function d(){a.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),u.classAnimation=""}function m(e){angular.forEach(u.awesomeThings,function(t){t.id===e&&t.liked!==!0&&(t.likes+=1,t.liked=!0)})}r.$inject=["$scope","$mdDialog","post"],s.$inject=["$scope","$mdDialog"];var u=this;u.awesomeThings=[],u.viewState="all",u.toDoItems=[],u.doLaterItems=[],u.doNotDoItems=[],u.classAnimation="",u.creationDate=1463047443957,u.showToastr=d,u.addLike=m,u.orderField="",u.orderTypeText="по просмотрам";var g,p;u.refresh=function(e,t){u.awesomeThings=e,u.viewState=t,u.currentView=t},u.openUser=function(e){u.currentView="userView",u.currentUser=e;var a={params:{rows:100,fname:"{firstName}",lname:"{lastName}",description:"{lorem|10}",likes:"{number|70}",callback:"JSON_CALLBACK",createdDate:"{date|1-1-2016,05-22-2016}",id:"{index}"}};t.jsonp("http://www.filltext.com",a,{}).success(function(e){angular.forEach(e,function(e){var t=Math.floor(e.likes/10);e.createdDate=new Date(e.createdDate),e.userFullName=e.fname+" "+e.lname;var a=1,i=1;t>4?(e.itemStyle="big-item",a=5,i=2):t>2&&t>=4?(e.itemStyle="medium-item",a=4,i=2):(e.itemStyle="small-item",a=4,i=1),e.likes%10>3&&(e.img="https://unsplash.it/300/500?random",i+=t>4?2:1,e.hasImage=!0,e.likes%5>3&&(e.useVerticalImage=!0)),e.row=a,e.col=i}),u.awesomeThings=e})},u.loadAllPosts=function(){u.viewState="all",u.currentView="all",u.awesomeThings=u.currentData},u.viewPost=function(e,a){if(console.log("view-post"),document.body.style.cursor="pointer",u.dirtyItem)return void(u.dirtyItem=!1);a.stopPropagation();var n=i("getById")(u.awesomeThings,e);o.show({controller:r,template:'<md-dialog aria-label="viewPost" ng-cloak><form class="a-md-dialog post-view-dialog"><div flex layout="row"><div flex layout="column" layout-align="center stretch" style="align-self: stretch"><div flex class="tile-text"><p>{{post.description }}</p></div><div class="action-panel"><div flex layout="row"><div class="post-creation-time" am-time-ago="{{post.createdDate}}"></div><div flex class="author"> — {{post.fname}} {{post.lname}}</div><div flex class="brunch-btn"><md-button ng-click="createFork()"><i class="material-icons">share</i>РАЗВИТЬ</md-button></div></div></div></div><div flex="40" ng-if="post.hasImage" class="tile-image" ng-style="{\'background\' : \'url({{post.img}}) no-repeat\'}"></div></div><div flex layout="column" class="post-comments-area"><div class="comment-to-post" ng-repeat="comment in comments" layout="row"><div><div class="comment-avatar" ng-style="{\'background\' : \'url({{comment.avatar}}) no-repeat\'}"></div></div><div layout="column" class="comment-info"><div class="comment-user-name">{{comment.fname}} {{comment.lname}}</div><div class="comment-text">{{comment.description}}</div> </div></div><div class="my-comment-container" layout="row"><div class="avatar-container"><div class="my-avatar-small"></div></div><md-input-container flex="100"><label>Оставьте комментарий...</label><input ng-model="myComment"></md-input-container></div></div></form></md-dialog>',locals:{post:n},parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:!0,fullscreen:!1}).then(function(e){u.currentItem=e,u.currentView="forkItem";var a={params:{rows:7,fname:"{firstName}",lname:"{lastName}",description:"{lorem|10}",likes:"{number|70}",callback:"JSON_CALLBACK",createdDate:"{date|1-1-2016,05-22-2016}",id:"{index}"}};t.jsonp("http://www.filltext.com",a,{}).success(function(e){angular.forEach(e,function(e){var t=Math.floor(e.likes/10);e.createdDate=new Date(e.createdDate),e.userFullName=e.fname+" "+e.lname;var a=1,i=1;t>4?(e.itemStyle="big-item",a=5,i=2):t>2&&t>=4?(e.itemStyle="medium-item",a=4,i=2):(e.itemStyle="small-item",a=4,i=1),e.likes%10>3&&(e.img="https://unsplash.it/300/500?random",i+=t>4?2:1,e.hasImage=!0,e.likes%5>3&&(e.useVerticalImage=!0)),e.row=a,e.col=i}),u.awesomeThings=e})})},u.openSelectProjectMenu=function(e,t){g=t,e(t)},u.createPost=function(e){o.show({controller:s,template:'<md-dialog aria-label="create a post" class="create-post-dailog" ng-cloak><form><div layout-align="column" class="a-md-dialog">  <div flex="100" class="input-container">   <md-input-container flex class="create-post-input md-block">     <label>Есть идея? Пиши прямо тут!</label>     <textarea rows="2" ng-paste="handlePaste($event)" ng-model="postText" hotkey="{\'shift+enter\': createNewPost}"></textarea>    </md-input-container><img src="{{imageUrl}}" style="height: 66px; width: 66px;border-radius: 4px;border: 1px solid #ccc; margin-bottom: 15px;" ng-show="imageUrl.length > 0" /> </div> <div flex="100" class="create-post-hint" ng-hide="imageUrl.length > 0">Чтобы присоединить картинку, перетяни ее в окно браузера или просто вставь ссылку.</div></div><md-button flex="100" class="create-post-btn" ng-show="postText.length > 0" ng-click="createNewPost()">Запостить!</md-button><div class="create-post-action-hint" ng-show="postText.length > 0" >Подсказка: ⇧ + Enter</div></form></md-dialog>',parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!1,fullscreen:!1}).then(function(e){var t=e.image.length>0,a=2;t&&(a+=1),u.awesomeThings.push({fname:"Me",lname:"Gusta",description:e.text,likes:0,img:e.image,hasImage:t,col:a,row:4,itemStyle:"medium-item",id:101})})},u.openOrderType=function(e,t){p=t,e(t)},u.changeOrderType=function(e,t){u.orderField=e,u.orderTypeText=t.currentTarget.innerText},interact(".draggable").draggable({inertia:!0,snap:{endOnly:!0},restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onstart:function(e){console.log("doing start"),angular.element(".st-backdrop").removeClass("disabled"),angular.element(".decision-panel").addClass("active"),u.dirtyItem=!0,u.doingDragging=!0},onmove:l,onend:function(e){console.log("onend"),e.target.setAttribute("startDrag","false"),e.target.classList.remove("start-dragging");var t=e.target,a=parseFloat(t.getAttribute("initial-data-x"))||0,i=parseFloat(t.getAttribute("initial-data-y"))||0;e.target.setAttribute("data-x",a),e.target.setAttribute("data-y",i),t.style.webkitTransform=t.style.transform="translate("+a+"px, "+i+"px)",console.log("start dragging set to false"),u.doingDragging=!1,console.log("remove backdrop"),angular.element(".st-backdrop").addClass("disabled"),angular.element(".decision-panel").removeClass("active")}}),interact(".dropzone").dropzone({overlap:.4,ondropactivate:function(e){e.target.classList.add("drop-active")},ondragenter:function(e){var t=e.relatedTarget,a=e.target,i=t.getAttribute("stored-state");t.classList.remove(i);var n=a.getAttribute("drop-area");t.classList.add(n),t.setAttribute("stored-state",n),a.classList.add("drop-target"),t.classList.add("can-drop")},ondragleave:function(e){var t=e.relatedTarget.getAttribute("stored-state");e.relatedTarget.classList.remove(t),e.target.classList.remove("drop-target"),e.relatedTarget.classList.remove("can-drop")},ondrop:function(e){console.log("ondrop");var t=e.relatedTarget.getAttribute("item-id"),a=i("getById")(u.awesomeThings,t),n=u.awesomeThings.indexOf(a),o=e.target.getAttribute("drop-area");"do-not-do"===o?u.doNotDoItems.push(a):"do-later"===o?u.doLaterItems.push(a):"do"===o&&u.toDoItems.push(a),u.awesomeThings.splice(n,1)},ondropdeactivate:function(e){e.target.classList.remove("drop-active"),e.target.classList.remove("drop-target")}}),c();var v={params:{rows:100,fname:"{firstName}",lname:"{lastName}",description:"{lorem|10}",likes:"{number|70}",callback:"JSON_CALLBACK",createdDate:"{date|1-1-2016,05-22-2016}",id:"{index}"}};t.jsonp("http://www.filltext.com",v,{}).success(function(e){angular.forEach(e,function(e){var t=Math.floor(e.likes/10);e.createdDate=new Date(e.createdDate),e.userFullName=e.fname+" "+e.lname;var a=1,i=1;t>4?(e.itemStyle="big-item",a=5,i=2):t>2&&t>=4?(e.itemStyle="medium-item",a=4,i=2):(e.itemStyle="small-item",a=4,i=1),e.likes%10>3&&(e.img="https://unsplash.it/300/500?random",i+=t>4?2:1,e.hasImage=!0,e.likes%5>3&&(e.useVerticalImage=!0)),e.row=a,e.col=i}),u.awesomeThings=e,u.currentItem=e[1],u.currentData=e})}e.$inject=["$timeout","$http","toastr","$filter","$scope","$mdDialog"],angular.module("stickyTrombone").controller("MainController",e).filter("getById",function(){return function(e,t){for(var a=0,i=e.length;i>a;a++)if(+e[a].id==+t)return e[a];return null}})}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("stickyTrombone").run(e)}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).otherwise({redirectTo:"/"})}e.$inject=["$routeProvider"],angular.module("stickyTrombone").config(e)}(),function(){"use strict";angular.module("stickyTrombone").constant("malarkey",malarkey)}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}e.$inject=["$logProvider","toastrConfig"],angular.module("stickyTrombone").config(e)}(),angular.module("stickyTrombone").run(["$templateCache",function(e){e.put("app/main/create-post.html","<md-dialog aria-label=viewPost ng-cloak><form><div flex layout=row class=a-md-dialog><div flex layout=column layout-align=\"center stretch\" style=\"align-self: stretch\"><div flex class=tile-text><p>{{post.description }}</p></div><div class=action-panel><div flex layout=row><md-button aria-label=like class=md-icon-button><i class=material-icons ng-class=\"post.liked ? 'item-liked' : 'item-waiting-for-like'\">favorite_border</i></md-button><div class=likes-count>{{post.likes}}</div><div flex class=author>{{post.fname}} {{post.lname}}</div></div></div></div><div flex=40 ng-if=post.hasImage class=tile-image ng-style=\"{'background' : 'url({{post.img}}) no-repeat'}\"></div></div></form></md-dialog>"),e.put("app/main/main.html",'<div><md-content><md-button ng-if="main.currentView !== \'userView\' && main.currentView !== \'forkItem\'" class="md-fab md-mini" aria-label="Eat cake" ng-click=main.createPost($event)><i class=material-icons>add</i></md-button><div layout=column class=current-item-view ng-if="main.currentView === \'forkItem\'"><div class=section-description>ДОСКА ИДЕИ</div><div layout=row><div class="back-to-all-items user-view" ng-click=main.loadAllPosts()><div class=back-icon>←</div></div><div layout=column class="current-item-view-card md-whiteframe-1dp"><div flex class="tile-text {{main.currentItem.itemStyle}}"><p>{{ main.currentItem.description }}</p></div><div class=action-panel><div flex layout=row class={{main.currentItem.itemStyle}}><div class=post-creation-time am-time-ago={{main.currentItem.createdDate}}></div><div class=author ng-click=main.openUser(main.currentItem.userFullName)>— {{main.currentItem.fname}} {{main.currentItem.lname}}</div><div flex class=brunch-btn><md-button ng-click=main.createPost($event)><i class=material-icons>share</i>РАЗВИТЬ</md-button></div></div></div></div><div ng-if=main.currentItem.hasImage flex=30 class="tile-image current-post-image" ng-style="{\'background\' : \'url({{main.currentItem.img}}) no-repeat\'}"></div></div></div><div flex class="current-state-indicator {{main.viewState}}" ng-if="main.viewState !== \'all\'">&nbsp;</div><div flex layout=row class=user-items ng-if="main.currentView === \'userView\'"><div ng-if="main.currentView === \'userView\' && main.currentView !== \'forkItem\'" class="back-to-all-items user-view" ng-click=main.loadAllPosts()><div class=back-icon>←</div></div><div class=image-avatar><img src=https://s3.amazonaws.com/uifaces/faces/twitter/jm_denis/128.jpg style="border-radius: 50%"></div><div class=user-item-name layout=column><div class=title>ПОЛЬЗОВАТЕЛЬ</div><div class=user-name>{{main.currentUser}}</div></div><div flex class=user-items-info layout=row layout-align="end center"><div class=under-consideration>53</div><div class=do-not-do>20</div><div class=do-later>5</div><div class=do>93</div></div></div><div ng-if="main.currentView !== \'userView\' && main.currentView !== \'forkItem\'" class=project-settings layout=row layout-align="end center"><div ng-if="main.viewState !== \'all\'" flex class=back-to-all-items layout=row><div class=back-icon>←</div><md-button md-no-ink class=md-primary ng-click=main.loadAllPosts()>Неотсортированные идеи</md-button></div><div>Проект:</div><md-menu md-position-mode="target-right target"><md-button md-no-ink class=md-primary ng-click="main.openSelectProjectMenu($mdOpenMenu, $event)">IMWU</md-button><md-menu-content width=4><md-menu-item><md-button ng-click=ctrl.redial($event)>Project 1</md-button></md-menu-item><md-menu-item><md-button ng-click=ctrl.checkVoicemail()>Project 2</md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=ctrl.toggleNotifications()>Добавить проект</md-button></md-menu-item></md-menu-content></md-menu><div>Сортировка:</div><md-menu md-position-mode="target-right target"><md-button md-no-ink class=md-primary ng-click="main.openOrderType($mdOpenMenu, $event)">{{main.orderTypeText}}</md-button><md-menu-content width=4><md-menu-item><md-button ng-click="main.changeOrderType(\'-id\', $event)">дате создания</md-button></md-menu-item><md-menu-item><md-button ng-click="main.changeOrderType(\'-likes\', $event)">по просмотрам</md-button></md-menu-item></md-menu-content></md-menu></div><div flex layout-align="space-between stretch" class=main-content><md-grid-list md-cols=1 md-cols-sm=3 md-cols-md=6 md-cols-gt-md=9 md-row-height=40px md-gutter=25px md-gutter-gt-sm=25px><md-grid-tile ng-repeat="awesomeThing in main.awesomeThings | orderBy: main.orderField" class="droppable draggable drag-drop md-whiteframe-1dp" md-rowspan={{awesomeThing.row}} item-id={{awesomeThing.id}} md-colspan={{awesomeThing.col}} layout=row layout-align="center stretch"><div flex layout=column layout-align="center stretch" style="align-self: stretch"><div flex class="tile-text {{awesomeThing.itemStyle}}" ng-click="main.viewPost(awesomeThing.id, $event)"><p>{{ awesomeThing.description }}</p></div><div class=action-panel><div flex layout=column class={{awesomeThing.itemStyle}} ng-attr-layout="{{awesomeThing.itemStyle == \'small-item\' && \'column\' || \'row\'}}"><div class=post-creation-time am-time-ago={{awesomeThing.createdDate}}></div><div ng-if="main.currentView !== \'userView\'" flex class=author ng-click=main.openUser(awesomeThing.userFullName)>— {{awesomeThing.fname}} {{awesomeThing.lname}}</div></div></div></div><div flex=40 ng-if=awesomeThing.hasImage class=tile-image ng-style="{\'background\' : \'url({{awesomeThing.img}}) no-repeat\'}"></div></md-grid-tile></md-grid-list></div><md-backdrop class="st-backdrop md-opaque md-default-theme md-sidenav-backdrop-custom" ng-class="{\'disabled\' : !main.doingDragging}"></md-backdrop><footer><acme-navbar creation-date=main.creationDate parent-model=main></acme-navbar></footer></md-content></div>'),e.put("app/components/navbar/navbar.html",'<md-toolbar layout=row layout-align="center end" class="decision-panel dropzone {{vm.parentModel.viewState}}"><div class="decision-panel_do-not-do dropzone" drop-area=do-not-do flex=33 ng-click=vm.showDoNotDoItems()><div class="do-not-do-items-count numberCircle">{{vm.parentModel.doNotDoItems.length}}</div>Не делай</div><div flex=33 class="decision-panel_do-it-later dropzone" drop-area=do-later ng-click=vm.showDoLaterItems()><div class="do-later-items-count numberCircle">{{vm.parentModel.doLaterItems.length}}</div>Давай потом</div><div flex=33 class="decision-panel_do-it dropzone" drop-area=do ng-click=vm.showDoItems()><div class="do-items-count numberCircle">{{vm.parentModel.toDoItems.length}}</div>Делай</div></md-toolbar>')}]);
//# sourceMappingURL=../maps/scripts/app-06357cd5d8.js.map
